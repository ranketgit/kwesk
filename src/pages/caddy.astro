---
// pages/chaises/caddy.astro
import Layout from '../layouts/Layout.astro';

const images = [
  "/caddy/1.jpg",
  "/caddy/2.jpg",
  "/caddy/3.jpg",
  "/caddy/4.jpg"
];
---

<Layout title="Caddy | Chaise de Bureau Formation Professionnelle" description="Chaises de bureau Caddy pour salles de formation. Mobilier professionnel empilable et mobile. Achat de chaises entreprise - Kwesk Maroc.">
  <main>
    
    <!-- Hero -->
    <section class="hero">
      <img src="/caddy/chero.png" alt="CADDY 80" />
    </section>

    <!-- Product Info -->
    <section class="product">
      <div class="product__container">
        <div class="product__grid">

          <!-- Gallery -->
          <div class="product__gallery">
            <div class="product__main">
              <button class="product__arrow product__arrow--left" id="prevBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
              </button>
              <img src={images[0]} alt="CADDY 80" id="mainImage" />
              <button class="product__arrow product__arrow--right" id="nextBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
              </button>
            </div>
            <div class="product__thumbs">
              {images.map((img, i) => (
                <button 
                  class={`product__thumb ${i === 0 ? 'active' : ''}`}
                  data-index={i}
                >
                  <img src={img} alt={`CADDY 80 vue ${i + 1}`} />
                </button>
              ))}
            </div>
          </div>

          <!-- Info -->
          <div class="product__info">
            <h1 class="product__title">CADDY 80</h1>
            <p class="product__desc">
              Les chaises CADDY offrent une ergonomie optimisée pour les sessions de formation. La tablette réglable et les espaces de rangement donnent aux utilisateurs la mobilité de modifier l'agencement de votre espace selon vos besoins. Vous formerez vos équipes avec facilité !
            </p>

            <div class="product__version">
              <span class="product__version-label">Version</span>
              <p class="product__version-name"><strong>CADDY 80</strong> Chaise Formation</p>
            </div>

            <a href="/contact" class="product__btn">ACHETER</a>
          </div>

        </div>
      </div>
    </section>

    <!-- Standard Features -->
    <section class="features">
      <div class="features__container">
        <h2 class="features__title">CARACTÉRISTIQUES STANDARD</h2>
        <ul class="features__list">
          <li><span>✓</span> Tablette rotative</li>
          <li><span>✓</span> Espace de rangement</li>
          <li><span>✓</span> Base structure 5 branches à 6 roulettes</li>
          <li><span>✓</span> Porte-stylo</li>
        </ul>
      </div>
    </section>

    <!-- Custom Color -->
    <section class="colors">
      <div class="colors__container">
        <h2 class="colors__title">COULEURS PERSONNALISÉES</h2>
        <img src="/caddy/custom-colors.png" alt="Couleurs personnalisées CADDY 80" class="colors__image" />
      </div>
    </section>

  </main>
</Layout>

<style>
  .hero {
    width: 100%;
    height: 50vh;
    min-height: 400px;
  }

  .hero img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .product {
    padding: 100px 0;
  }

  .product__container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 60px;
  }

  .product__grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 80px;
    align-items: start;
  }

  .product__gallery {
    position: relative;
  }

  .product__main {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 40px;
  }

  .product__main img {
    max-width: 100%;
    max-height: 400px;
    object-fit: contain;
  }

  .product__arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    background: none;
    border: none;
    cursor: pointer;
    color: #a8a29e;
    transition: color 0.3s ease;
  }

  .product__arrow:hover {
    color: #1c1917;
  }

  .product__arrow--left {
    left: 0;
  }

  .product__arrow--right {
    right: 0;
  }

  .product__arrow svg {
    width: 24px;
    height: 24px;
  }

  .product__thumbs {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-top: 30px;
  }

  .product__thumb {
    width: 80px;
    height: 80px;
    padding: 10px;
    border: 1px solid #e7e5e4;
    background: white;
    cursor: pointer;
    transition: border-color 0.3s ease;
  }

  .product__thumb:hover,
  .product__thumb.active {
    border-color: #8b8b4b;
  }

  .product__thumb img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .product__info {
    padding-top: 40px;
  }

  .product__title {
    font-size: 42px;
    font-weight: 700;
    color: #1c1917;
  }

  .product__desc {
    font-size: 15px;
    color: #78716c;
    line-height: 1.8;
    margin-top: 25px;
  }

  .product__version {
    margin-top: 40px;
  }

  .product__version-label {
    display: block;
    font-size: 12px;
    color: #a8a29e;
    margin-bottom: 8px;
  }

  .product__version-name {
    font-size: 14px;
    color: #1c1917;
  }

  .product__btn {
    display: inline-block;
    padding: 16px 40px;
    background-color: #8b8b4b;
    color: white;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-decoration: none;
    margin-top: 40px;
    transition: opacity 0.3s ease;
  }

  .product__btn:hover {
    opacity: 0.9;
  }

  .features {
    padding: 80px 0;
    border-top: 1px solid #e7e5e4;
  }

  .features__container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 60px;
  }

  .features__title {
    font-size: 28px;
    font-weight: 700;
    color: #1c1917;
    margin-bottom: 30px;
  }

  .features__list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .features__list li {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    font-size: 14px;
    color: #57534e;
    line-height: 1.8;
    margin-bottom: 12px;
  }

  .features__list li span {
    color: #8b8b4b;
    font-weight: 600;
  }

  .colors {
    padding: 80px 0;
    border-top: 1px solid #e7e5e4;
  }

  .colors__container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 60px;
  }

  .colors__title {
    font-size: 28px;
    font-weight: 700;
    color: #1c1917;
    margin-bottom: 40px;
  }

  .colors__image {
    max-width: 100%;
  }

  @media (max-width: 900px) {
    .product__container,
    .features__container,
    .colors__container {
      padding: 0 30px;
    }

    .product__grid {
      grid-template-columns: 1fr;
      gap: 50px;
    }

    .product {
      padding: 60px 0;
    }

    .product__title {
      font-size: 32px;
    }

    .product__thumbs {
      gap: 10px;
    }

    .product__thumb {
      width: 60px;
      height: 60px;
      padding: 8px;
    }
  }
</style>

<script define:vars={{ images }}>
  let currentIndex = 0;
  const allImages = images;

  const mainImage = document.getElementById('mainImage');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const thumbs = document.querySelectorAll('.product__thumb');

  function updateImage(index) {
    currentIndex = index;
    if (mainImage) {
      mainImage.src = allImages[index];
    }
    thumbs.forEach((thumb, i) => {
      thumb.classList.toggle('active', i === index);
    });
  }

  prevBtn?.addEventListener('click', () => {
    const newIndex = currentIndex === 0 ? allImages.length - 1 : currentIndex - 1;
    updateImage(newIndex);
  });

  nextBtn?.addEventListener('click', () => {
    const newIndex = currentIndex === allImages.length - 1 ? 0 : currentIndex + 1;
    updateImage(newIndex);
  });

  thumbs.forEach((thumb, i) => {
    thumb.addEventListener('click', () => {
      updateImage(i);
    });
  });
</script>
